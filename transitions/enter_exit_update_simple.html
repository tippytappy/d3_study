<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://d3js.org/d3.v6.js"></script>
  <title>Simple transition test</title>
</head>
<body>
  <div style="font-family: sans-serif">Goal: create a simple demonstration of the enter, exit and update transitions</div>
  <div class="buttons">
    <button onclick="update(data1)">Dataset 1</button>
    <button onclick="update(data2)">Dataset 2</button>
    <button onclick="update(data3)">Dataset 3</button>
  </div>
  <div id="chart"></div>

  <script>
    // data
    const data1 = [
      {name: "Dylan", colour: "grey"}
    ]
    const data2 = [
      {name: "Dylan", colour: "orange"},
      {name: "Sienna", colour: "red"}
    ]
    const data3 = [
      {name: "Sienna", colour: "purple"},
      {name: "Jas", colour: "blue"}
    ]
    

    // plot area
    width = 600
    height = 200
    const svg = d3.select('#chart')
      .append('svg')
      .attr('width', width)
      .attr('height', height)
      .append('g')
        .attr('transform', 'translate(50, 0)')

    function update(data) {
      svg.selectAll('circle')
      .data(data)
      .join('circle')
      .transition()
      .attr('cx', (d, i) => i * 100)
      .attr('cy', height / 2)
      .attr('r', 20)
      .attr('fill', 'orange')
    }

    update(data2)

  </script>
</body>
</html>